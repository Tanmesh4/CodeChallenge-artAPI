{"ast":null,"code":"var _jsxFileName = \"/Users/tanmeshshah/Desktop/try-fulltime-jobs/React-applications/CodeChallenge-artAPI/src/pages/HomePage/index.tsx\",\n  _s = $RefreshSig$();\nimport { Box, Typography } from \"@mui/material\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport BasicTemplate from \"../../components/template\";\nimport ArtworkGrid from \"../../components/organisms/allArtwork\";\nimport theme from \"../../theme/theme\";\nimport CloseImage from '../../images/close.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const [artData, setArtData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isSearch, setSearch] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [filteredDataLength, setFilteredDataLength] = useState(0);\n  const [isButtonDisabled, setIsButtonDisabled] = React.useState(true);\n  const [searchQuery, setSearchQuery] = React.useState(\"\");\n  const itemsPerPage = 9;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\"https://www.rijksmuseum.nl/api/en/collection\", {\n          params: {\n            key: \"2esrTh6M\",\n            involvedMaker: \"Rembrandt van Rijn\",\n            p: currentPage,\n            ps: itemsPerPage\n          }\n        });\n        setArtData(response.data.artObjects);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  }, [currentPage]);\n  const handlePageChange = (event, value) => {\n    setCurrentPage(value);\n  };\n  const handleSearchResult = useCallback(event => {\n    console.log(event.target.value.length);\n    if (isButtonDisabled && event.target.value.length > 0) {\n      console.log(\"enabling button\");\n      setIsButtonDisabled(true);\n    }\n    setSearchValue(event.target.value);\n    setSearchQuery(event.target.value);\n    setSearch(false);\n  }, []);\n  const handleClearSearch = useCallback(event => {\n    window.alert(isSearch);\n    if (isSearch) {\n      //setSearchQuery(\"\");\n    }\n  }, []);\n  const handleSearch = useCallback(() => {\n    setSearch(true);\n    axios.get(\"https://www.rijksmuseum.nl/api/nl/collection\", {\n      params: {\n        key: \"2esrTh6M\",\n        q: searchValue,\n        ps: itemsPerPage\n      }\n    }).then(response => {\n      console.log(response.data);\n      setFilteredDataLength(response.data.count);\n      setArtData(response.data.artObjects);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [filteredDataLength, searchValue, artData, searchQuery, isButtonDisabled, isSearch]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: /*#__PURE__*/_jsxDEV(BasicTemplate, {\n      handleSearchResult: handleSearchResult,\n      handleSearch: handleSearch,\n      middleData: /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            marginBottom: \"32px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h1\",\n            color: theme.palette.text.secondary,\n            children: isSearch ? `Found ${filteredDataLength} result for : ${searchValue}` : \"All artwork\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ArtworkGrid, {\n          artData: artData,\n          handlePageChange: handlePageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this),\n      searchImage: !isSearch ? '' : CloseImage,\n      clearSearch: handleClearSearch,\n      searchQuery: searchQuery,\n      isButtonDisabled: isButtonDisabled\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"EXJbKGCbiR+1r9+LGszw61FUzdU=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["Box","Typography","React","useCallback","useEffect","useState","axios","BasicTemplate","ArtworkGrid","theme","CloseImage","jsxDEV","_jsxDEV","HomePage","_s","artData","setArtData","currentPage","setCurrentPage","isSearch","setSearch","searchValue","setSearchValue","filteredDataLength","setFilteredDataLength","isButtonDisabled","setIsButtonDisabled","searchQuery","setSearchQuery","itemsPerPage","fetchData","response","get","params","key","involvedMaker","p","ps","data","artObjects","error","console","log","handlePageChange","event","value","handleSearchResult","target","length","handleClearSearch","window","alert","handleSearch","q","then","count","catch","children","middleData","sx","marginBottom","variant","color","palette","text","secondary","fileName","_jsxFileName","lineNumber","columnNumber","searchImage","clearSearch","_c","$RefreshReg$"],"sources":["/Users/tanmeshshah/Desktop/try-fulltime-jobs/React-applications/CodeChallenge-artAPI/src/pages/HomePage/index.tsx"],"sourcesContent":["import { Box, Typography } from \"@mui/material\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport BasicTemplate from \"../../components/template\";\nimport ArtworkGrid from \"../../components/organisms/allArtwork\";\nimport theme from \"../../theme/theme\";\nimport SearchImage from '../../images/Search.svg'\nimport CloseImage from '../../images/close.svg'\n\nconst HomePage = () => {\n  const [artData, setArtData] = useState<any[]>([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isSearch, setSearch] = useState(false);\n  const [searchValue, setSearchValue] = useState<string>(\"\");\n  const [filteredDataLength, setFilteredDataLength] = useState(0);\n  const [isButtonDisabled, setIsButtonDisabled] = React.useState(true);\n  const [searchQuery, setSearchQuery] = React.useState(\"\");\n  const itemsPerPage = 9;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\n          \"https://www.rijksmuseum.nl/api/en/collection\",\n          {\n            params: {\n              key: \"2esrTh6M\",\n              involvedMaker: \"Rembrandt van Rijn\",\n              p: currentPage,\n              ps: itemsPerPage,\n            },\n          }\n        );\n        setArtData(response.data.artObjects);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  }, [currentPage]);\n\n  const handlePageChange = (\n    event: React.ChangeEvent<unknown>,\n    value: number\n  ) => {\n    setCurrentPage(value);\n  };\n\n  const handleSearchResult = useCallback((event: any) => {\n    console.log(event.target.value.length);\n    \n    if(isButtonDisabled && event.target.value.length > 0) {\n      console.log(\"enabling button\");\n      \n      setIsButtonDisabled(true);\n    }\n    setSearchValue(event.target.value);\n    setSearchQuery(event.target.value);\n    setSearch(false);\n  }, []);\n\n  const handleClearSearch = useCallback((event: any) => {\n    window.alert(isSearch);\n    if(isSearch) {\n      //setSearchQuery(\"\");\n    }\n  }, []);\n\n  const handleSearch = useCallback(() => {\n    setSearch(true);\n    axios\n      .get(\"https://www.rijksmuseum.nl/api/nl/collection\", {\n        params: {\n          key: \"2esrTh6M\",\n          q: searchValue,\n          ps: itemsPerPage,\n        },\n      })\n      .then((response) => {\n        console.log(response.data);\n        setFilteredDataLength(response.data.count);\n        setArtData(response.data.artObjects);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [filteredDataLength, searchValue, artData, searchQuery, isButtonDisabled, isSearch]);\n\n  return (\n    <Box>\n      <BasicTemplate\n        handleSearchResult={handleSearchResult}\n        handleSearch={handleSearch}\n        middleData={\n          <Box>\n            <Box sx={{marginBottom:\"32px\"}}>\n              <Typography variant=\"h1\" color={theme.palette.text.secondary}\n                children={\n                  isSearch\n                    ? `Found ${filteredDataLength} result for : ${searchValue}`\n                    : \"All artwork\"\n                }\n              />\n            </Box>\n            <ArtworkGrid\n              artData={artData}\n              handlePageChange={handlePageChange}\n            />\n          </Box>\n        }\n        searchImage={!isSearch ? '' : CloseImage}\n        clearSearch = {handleClearSearch}\n        searchQuery= {searchQuery}\n        isButtonDisabled = {isButtonDisabled}\n      />\n    </Box>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}