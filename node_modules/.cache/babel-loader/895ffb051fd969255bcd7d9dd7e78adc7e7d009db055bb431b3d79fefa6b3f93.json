{"ast":null,"code":"var _jsxFileName = \"/Users/tanmeshshah/Desktop/try-fulltime-jobs/React-applications/Untitled/CodeChallenge-artAPI/tryArtAPI/tryArtAPI/src/pages/HomePage/index.tsx\",\n  _s = $RefreshSig$();\nimport { Box } from \"@mui/material\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport ArtworkGrid from \"../../components/organisms/allArtwork\";\nimport ArtWorkText from \"../../components/atom/AllArtWorkText\";\nimport axios from \"axios\";\nimport BasicTemplate from \"../../components/template\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const [artData, setArtData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isSearch, setSearch] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n  const [filteredDataLength, setFilteredDataLength] = useState(0);\n  const itemsPerPage = 9;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`https://www.rijksmuseum.nl/api/en/collection?key=2esrTh6M&involvedMaker=Rembrandt+van+Rijn&p=${currentPage}&ps=${itemsPerPage}`);\n        setArtData(response.data.artObjects);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  }, [currentPage]);\n  const handlePageChange = (event, value) => {\n    setCurrentPage(value);\n  };\n  const handleSearchResult = useCallback(event => {\n    setSearchValue(event.target.value);\n    setSearch(false);\n  }, []);\n  const handleSearch = useCallback(() => {\n    setSearch(true);\n    //   axios.get('https://www.rijksmuseum.nl/api/en/collection?key=2esrTh6M&involvedMaker=Rembrandt+van+Rijn')\n    // .then(response => {\n    //   let searchCount = 0;\n    //   // Filter out the object numbers\n    //   const objectNumbers = response.data.artObjects.map((item: { objectNumber: any; }) => item.objectNumber);\n    //   // Use the object numbers to get more information from the second API\n    //   objectNumbers.forEach((objectNumber: any) => {\n    //     axios.get(`https://www.rijksmuseum.nl/api/en/collection/${objectNumber}?key=2esrTh6M`)\n    //       .then(response => {\n    //         console.log(response.data.artObject.objectCollection[0]);\n    //         // Filter out the object numbers with objectCollection as \"painting\"\n    //         if (response.data.artObject.objectCollection[0] ===  {searchValue}) {\n    //           //console.log(\"on search: \" + response.data.artObject.objectNumber);\n    //           searchCount ++;\n    //         }\n    //         setFilteredDataLength(searchCount);\n    //       })\n    //       .catch(error => {\n    //         console.log(error);\n    //       });\n    //   });\n    // })\n    // .catch(error => {\n    //   console.log(error);\n    // });\n    axios.get('https://www.rijksmuseum.nl/api/en/collection', {\n      params: {\n        key: '2esrTh6M',\n        q: searchValue\n      }\n    }).then(response => {\n      console.log(response);\n      let count = 0;\n      response.data.artObjects.forEach(item => {\n        if (item.objectCollection === searchValue) {\n          count++;\n        }\n      });\n      setFilteredDataLength(count);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [filteredDataLength, searchValue]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: /*#__PURE__*/_jsxDEV(BasicTemplate, {\n      handleSearchResult: handleSearchResult,\n      handleSearch: handleSearch,\n      middleData: /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(ArtWorkText, {\n            artWorkText: isSearch ? `Found ${filteredDataLength} result for : ${searchValue}` : \"All artwork\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ArtworkGrid, {\n          artData: artData,\n          handlePageChange: handlePageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"QmjsanJswuhS5gb6FFyz17A2x4k=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["Box","React","useCallback","useEffect","useState","ArtworkGrid","ArtWorkText","axios","BasicTemplate","jsxDEV","_jsxDEV","HomePage","_s","artData","setArtData","currentPage","setCurrentPage","isSearch","setSearch","searchValue","setSearchValue","filteredDataLength","setFilteredDataLength","itemsPerPage","fetchData","response","get","data","artObjects","error","console","log","handlePageChange","event","value","handleSearchResult","target","handleSearch","params","key","q","then","count","forEach","item","objectCollection","catch","children","middleData","artWorkText","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/tanmeshshah/Desktop/try-fulltime-jobs/React-applications/Untitled/CodeChallenge-artAPI/tryArtAPI/tryArtAPI/src/pages/HomePage/index.tsx"],"sourcesContent":["import { Box } from \"@mui/material\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport Navbar from \"../../components/molecules/NavBar\";\nimport ArtworkGrid from \"../../components/organisms/allArtwork\";\nimport FooterArtApi from \"../../components/molecules/FooterArtApi\";\nimport ArtWorkText from \"../../components/atom/AllArtWorkText\";\nimport axios from \"axios\";\nimport BasicTemplate from \"../../components/template\";\nimport { log } from \"console\";\n\nconst HomePage = () => {\n  const [artData, setArtData] = useState<any[]>([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isSearch, setSearch] = useState(false);\n  const [searchValue, setSearchValue] = useState<string>('');\n  const [filteredDataLength, setFilteredDataLength] = useState(0);\n  const itemsPerPage = 9;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\n          `https://www.rijksmuseum.nl/api/en/collection?key=2esrTh6M&involvedMaker=Rembrandt+van+Rijn&p=${currentPage}&ps=${itemsPerPage}`\n        );\n        setArtData(response.data.artObjects);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  }, [currentPage]);\n\n  const handlePageChange = (\n    event: React.ChangeEvent<unknown>,\n    value: number\n  ) => {\n    setCurrentPage(value);\n  };\n\n  const handleSearchResult = useCallback((event: any) => {\n    setSearchValue(event.target.value);\n    setSearch(false);\n  },[]);\n\n  const handleSearch = useCallback(() => {\n    setSearch(true);\n  //   axios.get('https://www.rijksmuseum.nl/api/en/collection?key=2esrTh6M&involvedMaker=Rembrandt+van+Rijn')\n  // .then(response => {\n  //   let searchCount = 0;\n  //   // Filter out the object numbers\n  //   const objectNumbers = response.data.artObjects.map((item: { objectNumber: any; }) => item.objectNumber);\n  //   // Use the object numbers to get more information from the second API\n  //   objectNumbers.forEach((objectNumber: any) => {\n  //     axios.get(`https://www.rijksmuseum.nl/api/en/collection/${objectNumber}?key=2esrTh6M`)\n  //       .then(response => {\n  //         console.log(response.data.artObject.objectCollection[0]);\n  //         // Filter out the object numbers with objectCollection as \"painting\"\n  //         if (response.data.artObject.objectCollection[0] ===  {searchValue}) {\n  //           //console.log(\"on search: \" + response.data.artObject.objectNumber);\n  //           searchCount ++;\n  //         }\n  //         setFilteredDataLength(searchCount);\n  //       })\n  //       .catch(error => {\n  //         console.log(error);\n  //       });\n  //   });\n  // })\n  // .catch(error => {\n  //   console.log(error);\n  // });\n  axios.get('https://www.rijksmuseum.nl/api/en/collection', {\n      params: {\n        key: '2esrTh6M',\n        q: searchValue\n      }\n    })\n      .then(response => {\n        console.log(response);\n        let count = 0;\n        response.data.artObjects.forEach((item: { objectCollection: string; }) => {\n          if (item.objectCollection === searchValue) {\n            count++;\n          }\n        });\n        setFilteredDataLength(count);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  },[filteredDataLength, searchValue]);\n\n  return (\n    <Box>\n      <BasicTemplate\n        handleSearchResult={handleSearchResult}\n        handleSearch={handleSearch}\n        middleData={\n          <Box>\n            <Box>\n              <ArtWorkText\n                artWorkText={\n                  isSearch ? `Found ${filteredDataLength} result for : ${searchValue}` : \"All artwork\"\n                }\n              />\n            </Box>\n            <ArtworkGrid\n              artData={artData}\n              handlePageChange={handlePageChange}\n            />\n          </Box>\n        }\n      />\n    </Box>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}